<html>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script type="text/javascript">
        var addendo1;
        var addendo2;
        var risultato = 0;
        var segno = '';

        function num(num) {
            if (risultato != 0) {
                risultato = 0;
                segno = '';
                document.getElementById("ris").innerHTML = "=";
                document.getElementById("op").innerHTML = "";
            }
            document.getElementById("op").innerHTML += num;
        }

        function segnoOp(op) {
            if (segno == '') {
                segno = op;

                addendo1 = document.getElementById("op").innerHTML * 1;
                document.getElementById("op").innerHTML += op;
            }

        }

        function Calcola() {
            var vett = document.getElementById("op").innerHTML.split(segno);
            addendo2 = vett[1] * 1;
            switch (segno) {
                case '-':
                    risultato = addendo1 - addendo2;
                    break;
                case '+':
                    risultato = addendo1 + addendo2;
                    break;
                case 'x':
                    risultato = addendo1 * addendo2;
                    break;
                case '/':
                    if (addendo2 != 0)
                        risultato = addendo1 / addendo2;
                    else
                        risultato = "Errore, impossibile dividere per 0";
                    break;
            }
            document.getElementById("ris").innerHTML += risultato;
        }

        function virgola() {
            if (risultato == 0) {
                var testo;
                if (segno == '')
                    testo = document.getElementById("op").innerHTML;
                else
                    testo = document.getElementById("op").innerHTML.split(segno)[1];
                if (testo != "") {
                    var i = testo.indexOf(".")
                    if (i == -1) {
                        document.getElementById("op").innerHTML += ".";
                    }
                }
            }

        }

        function Clear() {
            document.getElementById("op").innerHTML = "";
            document.getElementById("ris").innerHTML = "=";
            addendo2 = 0;
            addendo1 = 0;
            risultato = 0;
            segno = '';
        }

        function Backspace() {
            var s = document.getElementById("op").innerHTML;
            var s1 = "";
            for (var i = 0; i < (s.length - 1); i++) {
                s1 += s[i];
            }
            if (s[1] == '+' || s[i] == '/' || s[i] == '-' || s[i] == 'x')
                segno = '';
            document.getElementById("op").innerHTML = s1;
        }
    </script>
    <style type="text/css">
        .btn-outline-primary {
            width: 50;
            height: 50;
        }
        
        .btnc {
            width: 104;
        }
        
        .btnzero {
            width: 104;
        }
        
        .container {
            width: 1000px;
            height: 700px;
            position: absolute;
            top: 25%;
            left: 50%;
            margin-top: -100px;
            margin-left: -100px;
        }
        
        #op {
            color: blue;
        }
        
        #ris {
            color: blue;
        }
        
        #text {
            color: blue;
        }
    </style>
    <title>Calcolatrice</title>
</head>

<body>
    <div class="container">
        <label id="text">Operation:</label>
        <label id="op"></label>
        <br>
        <label id="ris">=</label>
        <br>
        <button onclick="Clear();" type="button" class="btn btn-outline-primary btnc">Clear</button>
        <button onclick="Backspace()" type="button" class="btn btn-outline-primary">C</button>
        <button onclick="segnoOp('/')" type="button" class="btn btn-outline-primary">/</button>
        <br>
        <button onclick="num(1)" type="button" class="btn btn-outline-primary">1</button>
        <button onclick="num(2)" type="button" class="btn btn-outline-primary">2</button>
        <button onclick="num(3)" type="button" class="btn btn-outline-primary">3</button>
        <button onclick="segnoOp('x')" type="button" class="btn btn-outline-primary">x</button>
        <br>
        <button onclick="num(4)" type="button" class="btn btn-outline-primary">4</button>
        <button onclick="num(5)" type="button" class="btn btn-outline-primary">5</button>
        <button onclick="num(6)" type="button" class="btn btn-outline-primary">6</button>
        <button onclick="segnoOp('-')" type="button" class="btn btn-outline-primary">-</button>
        <br>
        <button onclick="num(7)" type="button" class="btn btn-outline-primary">7</button>
        <button onclick="num(8)" type="button" class="btn btn-outline-primary">8</button>
        <button onclick="num(9)" type="button" class="btn btn-outline-primary">9</button>
        <button onclick="segnoOp('+')" type="button" class="btn btn-outline-primary">+</button>
        <br>
        <button onclick="num(0)" type="button" class="btn btn-outline-primary btnzero">0</button>
        <button onclick="virgola()" type="button" class="btn btn-outline-primary">,</button>
        <button onclick="Calcola()" type="button" class="btn btn-outline-primary">=</button>
    </div>
</body>

</html>